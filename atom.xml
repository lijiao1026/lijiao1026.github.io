<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>李骄的个人博客</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-03-19T08:36:12.624Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>李骄</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Centos7安装oracle</title>
    <link href="http://yoursite.com/2018/03/19/Centos7%E5%AE%89%E8%A3%85oracle/"/>
    <id>http://yoursite.com/2018/03/19/Centos7安装oracle/</id>
    <published>2018-03-19T05:29:03.000Z</published>
    <updated>2018-03-19T08:36:12.624Z</updated>
    
    <content type="html"><![CDATA[<p>上篇文章介绍完了如何从零开始到安装好所有环境，但是数据库用的是oracle的话安装比较繁琐，所以另开一篇。</p><h1 id="系统准备"><a href="#系统准备" class="headerlink" title="系统准备"></a>系统准备</h1><p>oracle分我64位和32位的，本次使用的是64为的安装包，前往oracle官网即可下载到，分别为linux.x64_11gR2_database_1of2和linux.x64_11gR2_database_2of2。做完这些之后如果没有关闭防火墙和配置好固定ip请先看前面文章配置。</p><h1 id="用户和环境准备"><a href="#用户和环境准备" class="headerlink" title="用户和环境准备"></a>用户和环境准备</h1><ol><li>安装依赖包，执行命令:yum -y install gcc gcc-c++ make binutilscompat-libstdc++-33 elfutils-libelf elfutillibelf-devel glibc glibcommonglibc-devel libaio libaio-devel libgcclibstdc++ libstdc++-devel unixODBC unixODBC-devel  </li><li>创建用户和组。  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sysctl -p</span><br><span class="line">[root@localhost ~]# groupadd -g 200 oinstall</span><br><span class="line">[root@localhost ~]# groupadd -g 201 dba</span><br><span class="line">[root@localhost ~]# useradd -u 440 -g oinstall -G dba oracle</span><br><span class="line">[root@localhost ~]# passwd oracle</span><br><span class="line">更改用户 oracle 的密码 。</span><br><span class="line">新的 密码：</span><br><span class="line">无效的密码： 密码少于 8 个字符</span><br><span class="line">重新输入新的 密码：</span><br><span class="line">passwd：所有的身份验证令牌已经成功更新。</span><br><span class="line">```  </span><br><span class="line">3. 修改内核参数。执行命令:`vim /etc/sysctl.conf`，在末尾添加如下信息。</span><br></pre></td></tr></table></figure></li></ol><p>net.ipv4.ip_local_port_range= 9000 65500<br>fs.file-max = 6815744<br>kernel.shmall = 10523004<br>kernel.shmmax = 6465333657<br>kernel.shmmni = 4096<br>kernel.sem = 250 32000 100128<br>net.core.rmem_default=262144<br>net.core.wmem_default=262144<br>net.core.rmem_max=4194304<br>net.core.wmem_max=1048576<br>fs.aio-max-nr = 1048576<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4. 修改系统资源限制。执行命令: `vim /etc/security/limits.conf` ，末尾添加如下:</span><br></pre></td></tr></table></figure></p><p>oracle soft nproc 2047<br>oracle hard nproc 16384<br>oracle soft nofile 1024<br>oracle hard nofile 655<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在执行命令:` vi/etc/pam.d/login`</span><br></pre></td></tr></table></figure></p><p>session required pam_namespace.so #下面添加一条pam_limits.so<br>session required pam_limits.so<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在执行命令:` vi/etc/profile` 添加如下</span><br></pre></td></tr></table></figure></p><p>if [ $USER =”oracle” ]; then<br> if [ $SHELL = “/bin/ksh” ];then<br> ulimit -p 16384<br> ulimit -n 65536<br> else<br> ulimit -u 16384 -n 65536<br> fi<br>fi<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5. 创建安装目录及设置权限，命令行输入:</span><br></pre></td></tr></table></figure></p><p>[root@localhost opt]# mkdir /opt/oracle<br>[root@localhost opt]# mkdir /opt/oracle/app<br>[root@localhost opt]# mkdir /opt/oracle/oradata<br>[root@localhost opt]# chmod 755 /opt/oracle<br>[root@localhost opt]# chmod 755 /opt/oracle/app<br>[root@localhost opt]# chown oracle.oinstall -R /opt/oracle<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6. 设置环境变量。先切换到oracle用户，执行命令`su oracle`,然后执行命令`vi ~/.bash_profile`,加入如下内容。</span><br></pre></td></tr></table></figure></p><p>export ORACLE_BASE=/opt/oracle/app<br>export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1<br>export PATH=$PATH:$ORACLE_HOME/bin<br>export ORACLE_SID=orcl<br>export ORACLE_PID=orcl<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">再执行命令:`source .bash_profile`立即生效。如果提示没有权限的话，切换到root用户执行。</span><br><span class="line">7. 将已经下载好的两个oracle压缩文件复制到/media文件夹里面。然后解压文件，执行命令:`unzip /media/linux.x64_11gR2_database_1of2.zip`和`unzip /media/linux.x64_11gR2_database_2of2.zip`，解压完后执行命令`xhost +`开启图形化桌面，如果不能执行，就先执行命令:`export DISPLAL=:0`再执行刚才的命令。  </span><br><span class="line">8. 切换到oracle用户，`su oracle`，然后切换到/media/database目录下，先执行`export LANG=EN`切换为安装的时候英文,执行`./runInstall`  </span><br><span class="line"></span><br><span class="line"># 图形化界面安装  </span><br><span class="line">1. 不要输入email，直接next  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle1.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">2. 选择安装数据库软件并创建数据，也可以选择第二项仅安装数据库软件，然后next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle2.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">3. 选择服务器版本，如图，点击next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle3.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">4. 单例数据库，如图，点击next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle4.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">5. 高级模式安装，如图，点击next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle5.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">6. 添加支持语言，如图，点击next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle6.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">7. 选择要安装的版本，如图，点击next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle7.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">8. 安装数据库目录，如图，点击next。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle8.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">9. 创建详细目录。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle9.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">10. 选择配置类型。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle10.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">11. 数据库与服务名。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle11.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">12. 开启自动内存管理（如果512m太大，会出现提示，减少一些就可以），然后先不要点击next，而是点击Memory旁边的Charactor sets选项。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle12.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">13. 设置默认编码为UTF-8。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle13.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">14. 启用oracle企业管理控制台OEM。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle14.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">15. 选择数据库文件目录。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle15.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">16. 自动备份。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle16.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">17. 设置数据库用户名和密码，他是有一个密码建议的，否则会提示错误，密码建议是包含大写和小写字母，总长度不能低于8位。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle17.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">18. 授权的组。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle18.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">19. 检查oracle一些安装要求，包都已经安装，直接忽略。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle19.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">20. 开始安装。  </span><br><span class="line">&lt;img src=&quot;/images/Oracle/oracle20.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;   </span><br><span class="line">安装完成后，会出来一个对话框，提示使用root用户执行这两个脚本。</span><br></pre></td></tr></table></figure></p><p>[root@localhost ~]$ /opt/oracle/oraInventory/orainstRoot.sh<br>[root@localhost ~]$ /opt/oracle/app/product/11.2.0/dbhome_1/root.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">21. 启动数据库。执行命令:</span><br></pre></td></tr></table></figure></p><p>[root@oracledb ~]# su –oracle<br>[oracle@oracledb ~]# lsnrctl start<br>[oracle@oracledb ~]# sqlplus / as sys<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">22. 设置oracle开机启动。</span><br></pre></td></tr></table></figure></p><p>1.键入命令“vi /etc/oratab”（使用vi编辑器编辑文件/etc/oratab）<br>2.进入vi编辑器后，找到“orcl:/opt/oracle/app/product/11.2.0/dbhome_1:N”，改为“orcl:/opt/oracle/app/product/11.2.0/dbhome_1:Y”。修改完成后，保存退出vi。<br>3.键入命令 vi /etc/rc.d/rc.local<br>4.在vi编辑器中，添加：<br>su oracle -lc “/opt/oracle/app/product/11.2.0/dbhome_1/bin/lsnrctl start”<br>su oracle -lc /opt/oracle/app/product/11.2.0/dbhome_1/bin/dbstart<br>5.保存并退出vi。<br><code>`</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;上篇文章介绍完了如何从零开始到安装好所有环境，但是数据库用的是oracle的话安装比较繁琐，所以另开一篇。&lt;/p&gt;
&lt;h1 id=&quot;系统准备&quot;&gt;&lt;a href=&quot;#系统准备&quot; class=&quot;headerlink&quot; title=&quot;系统准备&quot;&gt;&lt;/a&gt;系统准备&lt;/h1&gt;&lt;p&gt;o
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux从零到成功部署项目</title>
    <link href="http://yoursite.com/2018/03/19/Linux%E4%BB%8E%E9%9B%B6%E5%88%B0%E6%88%90%E5%8A%9F%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE/"/>
    <id>http://yoursite.com/2018/03/19/Linux从零到成功部署项目/</id>
    <published>2018-03-19T01:20:21.000Z</published>
    <updated>2018-03-19T08:36:05.388Z</updated>
    
    <content type="html"><![CDATA[<h1 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h1><p>上篇文章写完了如何将新机安装成linux7.4系统，这篇将写完禁用防火墙，开启SSH服务，开启VNC服务，安装JDK，安装TOMCAT。  </p><h1 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h1><ol><li>查看 SELinux 状态：/usr/sbin/sestatus -v<br><img src="/images/CentosAfterImage/SelinuxState.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>临时关闭（不用重启机器）:这种方法重启后就失效，而且关闭后很多服务还是没法使用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# setenforce 0 #设置 SELinux 成为 permissive 模式 </span><br><span class="line">[root@localhost ~]# setenforce 1 #设置 SELinux 成为 enforcing 模式 </span><br><span class="line">```  </span><br><span class="line">3. 永久关闭:</span><br></pre></td></tr></table></figure></li></ol><p>[root@localhost ~]# vim /etc/selinux/conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">将 SELINUX=enforcing 改为 SELINUX=disable,（按键盘字母 a，启用编辑，修改后按 esc，输入“：wq”，表示保存修改）如图:  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/CloseSelinux.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">然后重启机器，执行命令reboot。  </span><br><span class="line">4. Firewalld关闭，输入命令:</span><br></pre></td></tr></table></figure></p><p>[root@localhost ~]# systemctl stop firewalld.service 关闭防火墙[root@localhost ~]# systemctl disable firewalld.service 禁止防火墙开机启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># SSH服务  </span><br><span class="line">1. 输入命令，查看SSH服务是否安装。</span><br></pre></td></tr></table></figure></p><p>[root@localhost ~]# rpm -qa | grep ssh<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">如果出现如图所示，就说明已经安装了SSH服务。  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/SSHDownload.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">如果没有的话，执行命令yum install openssh-server 安装。  </span><br><span class="line">2. 启动SSH服务，执行命令:service sshd restart 重启 SSH 服务,出现如下：Redirecting to /bin/systemctl restart sshd.service。注：命令：service sshd start 启动服务 | 命令：service sshd stop 停止服务重启后可输入：netstat -antp | grep sshd 查看是否启动 22 端口。</span><br><span class="line">3. 设置开机自启动。输入命令：chkconfig sshd on。注：若是 chkconfig sshd off 则禁止 SSH 开机启动。  </span><br><span class="line"></span><br><span class="line"># 安装lrzsz上传下载程序</span><br><span class="line">1. 检查是否安装lrzsz,输入命令rpm -qa |grep lrzsz  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/lrzszDownload.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">显示已经系统自带这款软件。假如没有安装，则输入命令安装：</span><br></pre></td></tr></table></figure></p><p>[root@localhost ~]# yum install -y lrzsz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2. 上传，从 Windows 上传文件，上传命令为 rz；在 Linux 命令行下输入 rz，上传的文件在当前命令行的目录下。  </span><br><span class="line">3. 下载。`[root@localhost ~]# sz 文件名`  </span><br><span class="line"></span><br><span class="line"># VNC远程服务  </span><br><span class="line">1. 检查 VNC 远程包是否安装，输入命令:`[root@localhost ~]# rpm -q tigervnctigervnc-server`出现如下提示：  </span><br><span class="line">未安装软件包 tigervnctigervnc-server  </span><br><span class="line">再输入：`[root@localhost ~]# rpm -qa |grep vnc`出现如下提示:</span><br></pre></td></tr></table></figure></p><p>tigervnc-license-1.8.0-1.el7.noarch<br>tigervnc-server-minimal-1.8.0-1.el7.x86_64<br>gvnc-0.7.0-2.el7.x86_64<br>gtk-vnc2-0.7.0-2.el7.x86<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">提示中看出发现少一个 tigervnc-server 安装包没有安装，执行命令`[root@localhost ~]# yum install –y tigervnc tigervnc-server`遇到询问都输入 y，然后回车。直至安装完成。  </span><br><span class="line">2. 启用vncserver服务，`[root@localhost ~]# vncserver`,会跳出提示要求你设置密码，自己输入密码就行。设置好后就能尝试登陆，VNC 默认端口是 5901  </span><br><span class="line">3. 开启VNC，尝试登录。  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/VNCServer.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">另外 VNC 设置开机自启动，无论实在 centos6.7 版本或者 7.4 版本都不成功，所以每次都是设置 ssh 自启动后，链接 ssh 然后输入命令：`[root@localhost bin]# vncserver`  </span><br><span class="line"></span><br><span class="line"># 安装JDK  </span><br><span class="line">1. 查看软件包，输入命令:`[root@localhost network-scripts]# rpm -qa | grep java`  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/JAVAPackage.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">一般 centos 都会默认安装 jdk，但我们这里要使用自己的 jdk，所以卸载掉系统自带的 jdk。输入卸载命令: </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/UninstallJava.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">卸载完成后再次输入:`[root@localhost network-scripts]# rpm -qa | grep java`查看是否还存在java软件包。  </span><br><span class="line">2. 安装JDK  </span><br><span class="line">上传新的 jdk-7-linux-x64.rpm 软件到/usr/local/执行以下操作:</span><br><span class="line">`[root@localhost local]# rpm -ivh jdk-7u79-linux-x64.rpm`,进行 rpm 安装包的安装。  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/JAVAInstall.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">3. 输入java -version，查看版本。  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/JAVAVersion.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line"></span><br><span class="line"># 安装TOMCAT </span><br><span class="line">1. 上传安装包。将 apache-tomcat-7.0.73.tar.gz 文件上传到/usr/local 。执行如下命令：</span><br></pre></td></tr></table></figure></p><p>[root@localhost local]# tar -zxv -f apache-tomcat-7.0.73.tar.gz // 解压压缩包<br>[root@localhost local]#rm -rf apache-tomcat-7.0.73.tar.gz // 删除压缩包<br>[root@localhost local]# mv apache-tomcat-7.0.73 tomcat //修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2. 进入 tomcat/bin 目录，输入命令，开启 tomcat。`[root@localhost bin]# ./startup.sh`然后打开浏览器，访问 http://IP 地址:端口号（默认 8080),出现 tomcat 主页面既表示安装成功。  </span><br><span class="line">&lt;img src=&quot;/images/CentosAfterImage/TOMCATStartup.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt; </span><br><span class="line">3. 关闭 tomcat 命令则进入/tomcat/bin 目录，输入:`./shutdown.sh`  </span><br><span class="line">4. 修改tomcat内存配置。先关闭tomcat，修改内存大小：打开 tomcat/bin/catalina.sh找到 cygwin=false，在上面添加:</span><br></pre></td></tr></table></figure></p><p>export JAVA_OPTS=”-Xms1024m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=256m”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;/images/CentosAfterImage/JAVAJVM.jpg&quot; width=&quot;600px&quot; height=&quot;500px&quot; alt=&quot;图片飞到火星去了&quot;&gt;&lt;/img&gt;  </span><br><span class="line">注：-Xms128m JVM 初始分配的堆内  </span><br><span class="line">-Xmx512m JVM 最大允许分配的堆内存，按需分配  </span><br><span class="line">-XX:PermSize=64M JVM 初始分配的非堆内存  </span><br><span class="line">-XX:MaxPermSize=128M JVM 最大允许分配的非堆内存，按需分配  </span><br><span class="line">5. 修改tomcat字符集，tomcat 下的 conf 文件夹，打开 server.xml 文件,找到如下内容：</span><br></pre></td></tr></table></figure></p><p><connector port="8080" protocol="HTTP/1.1" connectiontimeout="20000" redirectport="8443"><br><code>`</code><br>在 redirectPort=”8443”后面加上 URIEncoding=”utf-8”。<br><img src="/images/CentosAfterImage/TOMCATUtf8.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </connector></p><ol><li>配置tomcat开机启动，打开/etc/rc.d/rc.local 键入： /usr/local/tomcat/bin/startup.sh。<br><img src="/images/CentosAfterImage/TOMCATStart.jpg" width="600px" height="500px" alt="图片飞到火星去了"><br>保存并且退出。打开 tomcat 服务，重启电脑，尝试访问 tomcat 服务器。这时候发现曾经在 centos6.7 可以开机自启动 tomcat，在 centos7.4居然就不行。这是因为rc.local没有执行权限，执行命令<code>chmod +x /etc/rc.d/rc.local</code>重启后发现可以了。</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;回顾&quot;&gt;&lt;a href=&quot;#回顾&quot; class=&quot;headerlink&quot; title=&quot;回顾&quot;&gt;&lt;/a&gt;回顾&lt;/h1&gt;&lt;p&gt;上篇文章写完了如何将新机安装成linux7.4系统，这篇将写完禁用防火墙，开启SSH服务，开启VNC服务，安装JDK，安装TOMCAT。  
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux安装Centos7.0</title>
    <link href="http://yoursite.com/2018/03/16/Linux%E5%AE%89%E8%A3%85Centous7-0/"/>
    <id>http://yoursite.com/2018/03/16/Linux安装Centous7-0/</id>
    <published>2018-03-16T05:28:11.000Z</published>
    <updated>2018-03-16T07:24:48.751Z</updated>
    
    <content type="html"><![CDATA[<h1 id="准备系统"><a href="#准备系统" class="headerlink" title="准备系统"></a>准备系统</h1><ol><li>准备一个8G以上的U盘  </li><li>访问：<a href="https://www.centos.or" target="_blank" rel="noopener">https://www.centos.or</a><br><img src="/images/CentosImage/CentosWeb.jpg" width="600px" height="500px" alt="图片飞到火星去了"><br>点击 Get Centos Now,跳出页面后选择DVD ISO<br><img src="/images/CentosImage/CentosDVD.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>从 Actual Country 中选择镜像网址下载:一般选择：<a href="http://centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso" target="_blank" rel="noopener">http://centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso</a>  </li><li>下载软件：USBWriter，网址<a href="https://sourceforge.net/projects/usbwrite" target="_blank" rel="noopener">https://sourceforge.net/projects/usbwrite</a> 下载完后打开软件，将 Centos 制作成 U 盘启动盘<br><img src="/images/CentosImage/CentosUsbWriter.jpg" width="600px" height="500px" alt="图片飞到火星去了">  <h1 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h1></li><li>更改 bios 启动顺序，开机后一直按F12或者F10，即可进入bios界面（即 U 盘先启动）  </li><li>进入安装界面<br><img src="/images/CentosImage/CentosLogin.jpg" width="600px" height="500px" alt="图片飞到火星去了"><br>界面说明：Install CentOS 7安装 CentOS 7（选择此项进入安装）<br>Test this media &amp; install CentOS 7 测试安装文件并安装<br>CentOS 7Troubleshooting 修复  </li><li>进入后进入安装语言选择界面:选择中文，这个默认指的是安装时候语言而不是系统语言。<br><img src="/images/CentosImage/CentosChinese.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>软件选择默认最小化安装，改成 GNOME。<br><img src="/images/CentosImage/CentosGNOME.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>安装位置点击进入如下图所示<br><img src="/images/CentosImage/CentosFenqu.jpg" width="600px" height="500px" alt="图片飞到火星去了"><br>根据实际情况选择要安装的目的地磁盘，图片上是安装在 40G 的一个硬盘中，选择我要配置分区  </li><li>进入后我选择的是分区方案 LVM，然后点击“点这里自动创建。记得删除下面的系统原有的分区。<br><img src="/images/CentosImage/CentosFenqu2.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>根据需求调整分区大小，一般 swap 是内存的 2 倍，最大别超过 16G。/boot 是用于一些配置启动文件，一般 500MB-1G 就足够。/一般配置150G-200G,/home 用于存放数据，配置完后点击完成。所有都修改好后点击下一步。系统会进入准备安装界面。<br><img src="/images/CentosImage/CentosFenpei.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>安装界面可以设置 root 密码和创建用户密码。填好后接下来就是等待安装，直至完成，会出现重启按钮。点击重启。<br><img src="/images/CentosImage/CentosAnzhuang.jpg" width="600px" height="500px" alt="图片飞到火星去了">  </li><li>重启后进入欢迎界面，记得拔下U盘，同意许可信息后就进入正式页面，可以使用了。建议先创建用户，和配置好网络，固定好ip。打开终端，查看安装的 centos 版本  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/redhat-releaseCentOS </span><br><span class="line">Linux release 7.4.1708 (Core)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;准备系统&quot;&gt;&lt;a href=&quot;#准备系统&quot; class=&quot;headerlink&quot; title=&quot;准备系统&quot;&gt;&lt;/a&gt;准备系统&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;准备一个8G以上的U盘  &lt;/li&gt;
&lt;li&gt;访问：&lt;a href=&quot;https://www.centos.or
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Markdown使用记录</title>
    <link href="http://yoursite.com/2018/03/01/article-title/"/>
    <id>http://yoursite.com/2018/03/01/article-title/</id>
    <published>2018-03-01T01:11:30.000Z</published>
    <updated>2018-03-02T08:20:46.178Z</updated>
    
    <content type="html"><![CDATA[<h1 id="记markdown用法"><a href="#记markdown用法" class="headerlink" title="记markdown用法"></a>记markdown用法</h1><p>第一次使用markdown来写博客，想着既然要用这种语言来写，为了学习和记录用法，不如自己边写下用的过程。在学习中测试并且记录下来以便日后写博客的时候可以使用。<br>注意:Markdown使用<code>#</code>、<code>+</code>、<code>*</code>等符号来标记， 符号后面必须跟上 至少1个 空格才有效！换行的快捷键为2个空格在回车。 </p><h1 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h1><ol><li><p>在标题开头加上1~6个#，分别代表1级~6级标题。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">......</span><br></pre></td></tr></table></figure></li><li><p>在<strong><em> 标题下方 </em></strong> 加上任意个<code>=</code>代表1级标题，加上任意个<code>-</code>代表2级标题。  </p></li></ol><h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><p>引用以<code>&gt;</code>来表示，引用中支持多级引用、标题、列表、代码块、分割线等常规语法。  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; 引用 //&gt;后跟一个空格</span><br><span class="line">&gt;     代码块引用，&gt;后面跟5个空格。</span><br></pre></td></tr></table></figure><p>演示</p><blockquote><p>引用  </p></blockquote><blockquote><pre><code>代码块引用  </code></pre></blockquote><h1 id="行内标记"><a href="#行内标记" class="headerlink" title="行内标记"></a>行内标记</h1><p><div>利用`标记可以让代码变成一行</div><br>代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">标记`hellow world`</span><br></pre></td></tr></table></figure></p><p>效果：  </p><p>标记<code>hellow world</code>  </p><h1 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h1><p><strong><em> 注意:必须与上一行距离一个空行 </em></strong>  ，代码块的结束必须要直接回车，如果使用2个空格加回车的方法的话会导致认为代码块仍然是继续的。</p><ol><li>普通代码块利用(```)   </li><li>将语言放在代码块之前来标记（自定义语法）<br>代码:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```javascript</span><br><span class="line">var boy=10;</span><br><span class="line">var gril=11;</span><br><span class="line">var total=boy+gril;</span><br><span class="line">```</span><br></pre></td></tr></table></figure></li></ol><p>效果:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> boy=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> gril=<span class="number">11</span>;</span><br><span class="line"><span class="keyword">var</span> total=boy+gril;</span><br></pre></td></tr></table></figure></p><h1 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h1><p>两个<code>*</code>或<code>-</code>代表加粗，一个<code>*</code>或<code>-</code>代表斜体，<code>~~</code>代表删除。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**加粗文本** 或者 __加粗文本__</span><br><span class="line"></span><br><span class="line">*斜体文本*  或者_斜体文本_</span><br><span class="line"></span><br><span class="line">~~删除文本~~</span><br></pre></td></tr></table></figure></p><p>效果: </p><p><strong>加粗文本</strong> 或者 <strong>加粗文本</strong></p><p><em>斜体文本</em>  或者<em>斜体文本</em></p><p><del>删除文本</del>  </p><h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><p>无序列表使用星号、加号或是减号作为列表标记：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* Red</span><br><span class="line">* Green</span><br><span class="line">* Blue</span><br></pre></td></tr></table></figure></p><p>效果:</p><ul><li>Red</li><li>Green</li><li>Blue  </li></ul><p>有序列表则使用数字接着一个英文句点：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.  Bird</span><br><span class="line">2.  McHale</span><br><span class="line">3.  Parish</span><br></pre></td></tr></table></figure></p><p>效果: </p><ol><li>Bird</li><li>McHale</li><li>Parish  </li></ol><h1 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h1><p>用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* * *</span><br><span class="line"></span><br><span class="line">***</span><br><span class="line"></span><br><span class="line">*****</span><br><span class="line"></span><br><span class="line">- - -</span><br><span class="line"></span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure></p><hr><h1 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h1><p>Markdown 使用一种和链接很相似的语法来标记图片，同样也允许两种样式： 行内式和参考式。<br>行内式的图片语法看起来像是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![Alt text](/path/to/img.jpg)</span><br><span class="line"></span><br><span class="line">![Alt text](/path/to/img.jpg &quot;Optional title&quot;)</span><br></pre></td></tr></table></figure></p><p>详细叙述如下：  </p><ul><li>一个惊叹号 <code>!</code></li><li>接着一个方括号，里面放上图片的替代文字</li><li>接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上 选择性的 ‘title’ 文字。  </li></ul><p>参考式的图片语法则长得像这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![Alt text][id]</span><br></pre></td></tr></table></figure></p><p>「id」是图片参考的名称，图片参考的定义方式则和连结参考一样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[id]: url/to/image  &quot;Optional title attribute&quot;</span><br></pre></td></tr></table></figure></p><p>到目前为止， Markdown 还没有办法指定图片的宽高，如果你需要的话，你可以使用普通的img HTML标签。<br><img src="/images/MarkdownImage/test.jpg" width="600px" height="500px" alt="图片飞到火星去了"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;记markdown用法&quot;&gt;&lt;a href=&quot;#记markdown用法&quot; class=&quot;headerlink&quot; title=&quot;记markdown用法&quot;&gt;&lt;/a&gt;记markdown用法&lt;/h1&gt;&lt;p&gt;第一次使用markdown来写博客，想着既然要用这种语言来写，为了学
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2018/02/28/hello-world/"/>
    <id>http://yoursite.com/2018/02/28/hello-world/</id>
    <published>2018-02-28T08:16:00.000Z</published>
    <updated>2018-03-01T05:16:30.753Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
